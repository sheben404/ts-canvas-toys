{"mappings":"AAAA,MAAMA,EAAYC,SAASC,eAAc,UACnCC,EAAaF,SAASC,eAAc,cACpCE,EAAcH,SAASC,eAAc,eACrCG,EAAUF,EAAWG,WAAU,MAC/BC,EAAWH,EAAYE,WAAU,MAEvCC,EAASC,KAAI,YACLD,EAACE,WAAa,GACtBF,EAASG,YAAW,mBACpBH,EAASI,cAAgB,GACzBJ,EAASK,cAAgB,GACzBL,EAASM,UAAS,MAElBR,EAAQQ,UAAS,WACjBR,EAAQS,SAAS,EAAG,EAAG,IAAK,KAC5BT,EAAQG,KAAI,YACJH,EAAAQ,UAAS,OACjBR,EAAQU,SAAQ,MAAC,IAAK,KAEhB,IAAFC,GAAS,EACbb,EAAWc,YAAW,WACpBD,GAAS,GAEXb,EAAWe,UAAS,WAClBF,GAAS,GAEXb,EAAWgB,YAAW,SAAYC,GAChC,GAAGJ,EAAO,CACR,MAAMK,EAAgBrB,EAAUsB,wBAC1BC,EAAIH,EAAEI,MAAQH,EAAcE,EAC5BE,EAAIL,EAAEM,MAAQL,EAAcI,EAClCpB,EAAQsB,yBAAwB,kBAChCtB,EAAQuB,YACRvB,EAAQwB,IAAIN,EAAGE,EAAG,GAAI,EAAG,EAAIK,KAAKC,IAClC1B,EAAQ2B,OACR3B,EAAQ4B,cAIZ,IAAIC,EAAS,IACbC,aAAW,WACT5B,EAAS6B,UAAU,EAAG,EAAG,IAAK,KAC9BF,GAAU,EACPA,GAAS,MACVA,EAAS,KAEX3B,EAASQ,SAAQ,QAACmB,EAAmB,OACpC,IAEH,MAAMG,EAAQ,EAAMC,QAAO,SAAkBC,EAAG,KAASD,QAAO,QAAiBC,EAAG,KAASD,QAAO,OAAUC,EAAG,KAC/FC,EAAYV,KAAKW,SACpBD,EAAYH,EAAS,GAAGE,EACzBvC,EAAU0C,UAAYL,EAAS,GAAGC,QAC3BE,EAAYH,EAAS,GAAGE,EAAIF,EAAS,GAAGE,EAC/CvC,EAAU0C,UAAYL,EAAS,GAAGC,QAC3BE,EAAYH,EAAS,GAAGE,EAAIF,EAAS,GAAGE,EAAIF,EAAS,GAAGE,IAC/DvC,EAAU0C,UAAYL,EAAS,GAAGC","sources":["src/scratchcard/main.ts"],"sourcesContent":["const resultDom = document.getElementById(\"result\");\r\nconst cardCanvas = document.getElementById(\"cardCanvas\") as HTMLCanvasElement;\r\nconst wordsCanvas = document.getElementById(\"wordsCanvas\") as HTMLCanvasElement;\r\nconst cardCtx = cardCanvas.getContext(\"2d\");\r\nconst wordsCtx = wordsCanvas.getContext(\"2d\");\r\n\r\nwordsCtx.font = '50px 微软雅黑'\r\nwordsCtx.shadowBlur = 20\r\nwordsCtx.shadowColor = \"rgb(245,155,155)\"\r\nwordsCtx.shadowOffsetX = 10\r\nwordsCtx.shadowOffsetY = 10\r\nwordsCtx.fillStyle = 'red'\r\n\r\ncardCtx.fillStyle = 'darkgray'\r\ncardCtx.fillRect(0, 0, 600, 200)\r\ncardCtx.font = '20px 微软雅黑'\r\ncardCtx.fillStyle = '#fff'\r\ncardCtx.fillText('刮刮卡',260, 100)\r\n\r\nlet isDraw = false\r\ncardCanvas.onmousedown = function(){\r\n  isDraw = true\r\n}\r\ncardCanvas.onmouseup = function(){\r\n  isDraw = false\r\n}\r\ncardCanvas.onmousemove = function(e){\r\n  if(isDraw){\r\n    const resultDomRect = resultDom.getBoundingClientRect()\r\n    const x = e.pageX - resultDomRect.x\r\n    const y = e.pageY - resultDomRect.y\r\n    cardCtx.globalCompositeOperation = 'destination-out'\r\n    cardCtx.beginPath()\r\n    cardCtx.arc(x, y, 20, 0, 2 * Math.PI)\r\n    cardCtx.fill()\r\n    cardCtx.closePath()\r\n  }\r\n}\r\n\r\nlet wordsX = 600\r\nsetInterval(function(){\r\n  wordsCtx.clearRect(0, 0, 600, 200)\r\n  wordsX -= 3\r\n  if(wordsX < -250){\r\n    wordsX = 600\r\n  }\r\n  wordsCtx.fillText('祝你好运喔', wordsX, 100)\r\n}, 25)\r\n\r\nconst wordsArr = [{ content: \"一等奖!!!\", p: 0.1 }, { content: \"二等奖!!\", p: 0.2 }, { content: \"三等奖!\", p: 0.3 }]\r\nconst randomNum = Math.random()\r\nif(randomNum < wordsArr[0].p){\r\n  resultDom.innerHTML = wordsArr[0].content\r\n}else if(randomNum < wordsArr[0].p + wordsArr[1].p){\r\n  resultDom.innerHTML = wordsArr[1].content\r\n}else if(randomNum < wordsArr[0].p + wordsArr[1].p + wordsArr[2].p){\r\n  resultDom.innerHTML = wordsArr[2].content\r\n}"],"names":["$545f0804f3e447b3$var$resultDom","document","getElementById","$545f0804f3e447b3$var$cardCanvas","$545f0804f3e447b3$var$wordsCanvas","$545f0804f3e447b3$var$cardCtx","getContext","$545f0804f3e447b3$var$wordsCtx","font","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","fillStyle","fillRect","fillText","$545f0804f3e447b3$var$isDraw","onmousedown","onmouseup","onmousemove","e","resultDomRect","getBoundingClientRect","x","pageX","y","pageY","globalCompositeOperation","beginPath","arc","Math","PI","fill","closePath","$545f0804f3e447b3$var$wordsX","setInterval","clearRect","$545f0804f3e447b3$var$wordsArr","content","p","$545f0804f3e447b3$var$randomNum","random","innerHTML"],"version":3,"file":"index.98fd5236.js.map"}