const e=document.querySelectorAll(".pen"),t=document.getElementById("drawCanvas"),o=t.getContext("2d");t.setAttribute("width",String(t.offsetWidth)),t.setAttribute("height",String(t.offsetHeight));let i={type:"line",isDraw:!1,beginX:0,beginY:0,lineWidth:6,imageData:null,color:"#000",lineFn:function(e){const n=e.pageX-t.offsetLeft,a=e.pageY-t.offsetTop;o.clearRect(0,0,t.offsetWidth,t.offsetHeight),null!=i.imageData&&o.putImageData(i.imageData,0,0,0,0,t.offsetWidth,t.offsetHeight),o.lineTo(n,a),o.strokeStyle=i.color,o.lineWidth=i.lineWidth,o.lineCap="round",o.lineJoin="round",o.stroke()},rectFn:function(e){const n=e.pageX-t.offsetLeft,a=e.pageY-t.offsetTop;o.clearRect(0,0,t.offsetWidth,t.offsetHeight),null!=i.imageData&&o.putImageData(i.imageData,0,0,0,0,t.offsetWidth,t.offsetHeight),o.beginPath(),o.lineWidth=i.lineWidth,o.rect(i.beginX,i.beginY,n-i.beginX,a-i.beginY),o.strokeStyle=i.color,o.stroke(),o.closePath()},arcFn:function(e){e.pageX,t.offsetLeft,e.pageY,t.offsetTop;o.clearRect(0,0,t.offsetWidth,t.offsetHeight),null!=i.imageData&&o.putImageData(i.imageData,0,0,0,0,t.offsetWidth,t.offsetHeight),o.beginPath(),o.lineWidth=i.lineWidth,o.arc(i.beginX,i.beginY,Math.abs(e.clientX-i.beginX),0,2*Math.PI),o.strokeStyle=i.color,o.stroke(),o.closePath()},eraFn:function(e){const n=e.pageX-t.offsetLeft,a=e.pageY-t.offsetTop;o.lineTo(n,a),o.strokeStyle="#fff",o.lineWidth=i.lineWidth,o.lineCap="round",o.lineJoin="round",o.stroke()}};const n=document.querySelector(".line");n.onclick=function(){e.forEach((e=>{e.classList.remove("active")})),n.classList.add("active"),i.type="line"};const a=document.querySelector(".rect");a.onclick=function(){e.forEach((e=>{e.classList.remove("active")})),a.classList.add("active"),i.type="rect"};const c=document.querySelector(".arc");c.onclick=function(){e.forEach((e=>{e.classList.remove("active")})),c.classList.add("active"),i.type="arc"};const s=document.querySelector(".era");s.onclick=function(){e.forEach((e=>{e.classList.remove("active")})),s.classList.add("active"),i.type="era"};const l=document.querySelectorAll(".width");l.forEach(((e,t)=>{e.onclick=()=>{switch(l.forEach((e=>{e.classList.remove("active")})),e.classList.add("active"),t){case 0:i.lineWidth=6;break;case 1:i.lineWidth=16;break;case 2:i.lineWidth=32}}}));const r=document.getElementById("color");r.onchange=e=>{i.color=r.value},t.onmousedown=function(e){i.isDraw=!0;const n=e.pageX-t.offsetLeft,a=e.pageY-t.offsetTop;switch(i.type){case"rect":case"arc":i.beginX=n,i.beginY=a;break;case"line":case"era":i.beginX=n,i.beginY=a,o.beginPath(),o.moveTo(n,a)}},t.onmouseup=function(){i.imageData=o.getImageData(0,0,t.offsetWidth,t.offsetHeight),i.isDraw=!1,"line"===i.type&&o.closePath()},t.onmousemove=function(e){if(i.isDraw){const t=i.type+"Fn";i[t](e)}};document.querySelector(".clearCanvas").onclick=function(){i.imageData=null,o.clearRect(0,0,Number(t.getAttribute("width")),Number(t.getAttribute("height")))};document.querySelector(".saveCanvas").onclick=function(){const e=t.toDataURL(),o=document.createElement("a");o.download="sunshine",o.href=e,document.body.appendChild(o),o.click(),document.body.removeChild(o)};
//# sourceMappingURL=index.dd515c2c.js.map
