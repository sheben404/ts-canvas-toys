{"mappings":"AAAA,MAAMA,EAAcC,SAASC,eAAc,eAErCC,EAAWH,EAAYI,WAAU,MAGjCC,EAAKJ,SAASK,gBAAgBC,aAAeN,SAASO,KAAKD,YAC3DE,EAAKR,SAASK,gBAAgBI,cAAgBT,SAASO,KAAKE,aAE5DV,EAAMW,OAASF,EACrBT,EAAYY,MAAQP,EAEpBQ,OAAOC,SAAQ,WACb,MAAMC,EAAKd,SAASK,gBAAgBC,aAAeN,SAASO,KAAKD,YAC3DS,EACJf,SAASK,gBAAgBI,cAAgBT,SAASO,KAAKE,aAEnDV,EAAMW,OAASK,EACrBhB,EAAYY,MAAQG,GAGtBZ,EAASc,UAAS,QAClBd,EAASe,YAAW,cAEdC,cAMQC,EAAWC,EAAWC,QAC3BF,EAAIA,OACJC,EAAIA,OACJC,EAAIA,OACJC,OAAyB,EAAhBC,KAAKC,SAAeD,KAAKE,KAAI,EAAIF,KAAKG,MAAMH,KAAKC,gBAC1DG,OAAyB,EAAhBJ,KAAKC,SAAeD,KAAKE,KAAI,EAAIF,KAAKG,MAAMH,KAAKC,WAEjEI,OACE1B,EAAS2B,YACT3B,EAAS4B,IAAGC,KAAMZ,EAACY,KAAOX,EAACW,KAAOV,EAAG,EAAa,EAAVE,KAAKS,IAC7C9B,EAAS+B,OACT/B,EAASgC,YAEXC,YACOhB,GAACY,KAAST,YACVF,GAACW,KAASJ,iBAGVS,EAASC,EAAgBC,EAAgBC,EAAcC,GAC9DtC,EAAS2B,YACT3B,EAASuC,OAAOJ,EAAQC,GACxBpC,EAASwC,OAAOH,EAAMC,GACtBtC,EAASyC,SACTzC,EAASgC,YAGX,MAAMU,EAAK,OACN,IAAIC,EAAI,EAAGA,EAAI,IAAKA,IACvBD,EAAME,KAAK,IAAI5B,EAAKK,KAAKC,SAAWpB,EAAImB,KAAKC,SAAWhB,EAAI,IAG9D,MAAMuC,EAAY,IAAI7B,EAAK,EAAG,EAAG,GAEjCnB,EAAYiD,YAAW,SAAaC,GAClCF,EAAU5B,EAAI8B,EAAEC,QAChBH,EAAU3B,EAAI6B,EAAEE,SAGlBvC,OAAOwC,QAAO,SAAaH,OACpB,IAAII,EAAI,EAAGA,EAAI,EAAGA,IACrBT,EAAME,KAAK,IAAI5B,EAAK+B,EAAEC,QAASD,EAAEE,QAAS,KAI9CG,aAAW,KACTpD,EAASqD,UAAU,EAAG,EAAGnD,EAAII,GAC7BuC,EAAUnB,OACVgB,EAAMY,SAASC,IACbA,EAAKtB,OACLsB,EAAK7B,UAEPgB,EAAMY,SAAO,CAAEC,EAAMC,SAEd,IAAIL,EAAIK,EAAQ,EAAGL,EAAIT,EAAMe,OAAQN,IAEtC9B,KAAKqC,IAAIH,EAAKtC,EAAIyB,EAAMS,GAAGlC,GAAK,IAChCI,KAAKqC,IAAIH,EAAKrC,EAAIwB,EAAMS,GAAGjC,GAAK,IAEhCgB,EAASqB,EAAKtC,EAAGsC,EAAKrC,EAAGwB,EAAMS,GAAGlC,EAAGyB,EAAMS,GAAGjC,GAKhDG,KAAKqC,IAAIb,EAAU5B,EAAIsC,EAAKtC,GAAK,IACjCI,KAAKqC,IAAIb,EAAU3B,EAAIqC,EAAKrC,GAAK,IAEjCgB,EAASW,EAAU5B,EAAG4B,EAAU3B,EAAGqC,EAAKtC,EAAGsC,EAAKrC,QAGnD","sources":["src/stars/main.ts"],"sourcesContent":["const starsCanvas = document.getElementById(\"starsCanvas\") as HTMLCanvasElement;\r\n\r\nconst starsCtx = starsCanvas.getContext(\"2d\");\r\n\r\n// 获取当前视图的宽度和高度\r\nconst aw = document.documentElement.clientWidth || document.body.clientWidth;\r\nconst ah = document.documentElement.clientHeight || document.body.clientHeight;\r\n// 赋值给canvas\r\nstarsCanvas.height = ah;\r\nstarsCanvas.width = aw;\r\n\r\nwindow.onresize = function () {\r\n  const aw = document.documentElement.clientWidth || document.body.clientWidth;\r\n  const ah =\r\n    document.documentElement.clientHeight || document.body.clientHeight;\r\n  // 赋值给canvas\r\n  starsCanvas.height = ah;\r\n  starsCanvas.width = aw;\r\n};\r\n\r\nstarsCtx.fillStyle = \"white\";\r\nstarsCtx.strokeStyle = \"white\";\r\n\r\nclass Star {\r\n  x: number;\r\n  y: number;\r\n  r: number;\r\n  speedX: number;\r\n  speedY: number;\r\n  constructor(x: number, y: number, r: number) {\r\n    this.x = x;\r\n    this.y = y;\r\n    this.r = r;\r\n    this.speedX = Math.random() * 3 * Math.pow(-1, Math.round(Math.random()));\r\n    this.speedY = Math.random() * 3 * Math.pow(-1, Math.round(Math.random()));\r\n  }\r\n  draw() {\r\n    starsCtx.beginPath();\r\n    starsCtx.arc(this.x, this.y, this.r, 0, Math.PI * 2);\r\n    starsCtx.fill();\r\n    starsCtx.closePath();\r\n  }\r\n  move() {\r\n    this.x -= this.speedX;\r\n    this.y -= this.speedY;\r\n  }\r\n}\r\nfunction drawLine(startX: number, startY: number, endX: number, endY: number) {\r\n  starsCtx.beginPath();\r\n  starsCtx.moveTo(startX, startY);\r\n  starsCtx.lineTo(endX, endY);\r\n  starsCtx.stroke();\r\n  starsCtx.closePath();\r\n}\r\n\r\nconst stars = [];\r\nfor (let i = 0; i < 100; i++) {\r\n  stars.push(new Star(Math.random() * aw, Math.random() * ah, 3));\r\n}\r\n\r\nconst mouseStar = new Star(0, 0, 3);\r\n\r\nstarsCanvas.onmousemove = function (e) {\r\n  mouseStar.x = e.clientX;\r\n  mouseStar.y = e.clientY;\r\n};\r\n\r\nwindow.onclick = function (e) {\r\n  for (let i = 0; i < 5; i++) {\r\n    stars.push(new Star(e.clientX, e.clientY, 3));\r\n  }\r\n};\r\n\r\nsetInterval(() => {\r\n  starsCtx.clearRect(0, 0, aw, ah);\r\n  mouseStar.draw();\r\n  stars.forEach((star) => {\r\n    star.move();\r\n    star.draw();\r\n  });\r\n  stars.forEach((star, index) => {\r\n    // 类似于冒泡排序那样，去比较，确保所有星星两两之间都比较到\r\n    for (let i = index + 1; i < stars.length; i++) {\r\n      if (\r\n        Math.abs(star.x - stars[i].x) < 80 &&\r\n        Math.abs(star.y - stars[i].y) < 80\r\n      ) {\r\n        drawLine(star.x, star.y, stars[i].x, stars[i].y);\r\n      }\r\n    }\r\n\r\n    if (\r\n      Math.abs(mouseStar.x - star.x) < 80 &&\r\n      Math.abs(mouseStar.y - star.y) < 80\r\n    ) {\r\n      drawLine(mouseStar.x, mouseStar.y, star.x, star.y);\r\n    }\r\n  });\r\n}, 50);\r\n"],"names":["$82301fe64144e8d0$var$starsCanvas","document","getElementById","$82301fe64144e8d0$var$starsCtx","getContext","$82301fe64144e8d0$var$aw","documentElement","clientWidth","body","$82301fe64144e8d0$var$ah","clientHeight","height","width","window","onresize","aw","ah","fillStyle","strokeStyle","$82301fe64144e8d0$var$Star","x","y","r","speedX","Math","random","pow","round","speedY","draw","beginPath","arc","this","PI","fill","closePath","move","$82301fe64144e8d0$var$drawLine","startX","startY","endX","endY","moveTo","lineTo","stroke","$82301fe64144e8d0$var$stars","i","push","$82301fe64144e8d0$var$mouseStar","onmousemove","e","clientX","clientY","onclick","i1","setInterval","clearRect","forEach","star","index","length","abs"],"version":3,"file":"index.cca7b44f.js.map"}