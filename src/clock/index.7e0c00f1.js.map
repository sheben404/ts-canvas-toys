{"mappings":"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","sources":["src/clock/main.ts"],"sourcesContent":["const clockCanvas = document.getElementById(\"clockCanvas\") as HTMLCanvasElement;\r\nconst clockCtx = clockCanvas.getContext(\"2d\");\r\n\r\nlet clockWidth = clockCtx.canvas.width;\r\nlet clockHeight = clockCtx.canvas.height;\r\nlet clockRadius = clockWidth / 2;\r\nlet clockRem = clockWidth / 200;\r\n\r\nfunction drawBackground() {\r\n  clockCtx.save();\r\n  // 改变原点位置\r\n  clockCtx.translate(clockRadius, clockRadius);\r\n  clockCtx.beginPath()\r\n  clockCtx.lineWidth = 10 * clockRem;\r\n  clockCtx.arc(0, 0, clockRadius - clockCtx.lineWidth / 2, 0, 2 * Math.PI, false);\r\n  clockCtx.stroke();\r\n\r\n  const hourNums = [3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 1, 2];\r\n  clockCtx.font = 18 * clockRem + \"px Arial\";\r\n  // 用来设置水平方向的中点是 x\r\n  clockCtx.textAlign = \"center\";\r\n  // 用来设置竖直方向的中点是 y\r\n  clockCtx.textBaseline = \"middle\";\r\n  hourNums.forEach((number, index) => {\r\n    const rad = ((2 * Math.PI) / 12) * index;\r\n    // 利用余弦和正弦函数求 x、y 的坐标\r\n    const x = Math.cos(rad) * (clockRadius - 30 * clockRem);\r\n    const y = Math.sin(rad) * (clockRadius - 30 * clockRem);\r\n    clockCtx.fillText(String(number), x, y);\r\n  });\r\n\r\n  for (let i = 0; i <= 60; i++) {\r\n    const rad = ((2 * Math.PI) / 60) * i;\r\n    const x = Math.cos(rad) * (clockRadius - 18 * clockRem);\r\n    const y = Math.sin(rad) * (clockRadius - 18 * clockRem);\r\n\r\n    clockCtx.beginPath();\r\n    if (i % 5 === 0) {\r\n      clockCtx.fillStyle = \"#000\";\r\n      clockCtx.arc(x, y, 2, 0, 2 * Math.PI, false);\r\n    } else{\r\n      clockCtx.fillStyle = \"#ccc\";\r\n      clockCtx.arc(x, y, 2, 0, 2 * Math.PI, false);\r\n    }\r\n    clockCtx.fill();\r\n  }\r\n}\r\n\r\nfunction drawHour(hour: number, minute: number){\r\n  // ctx.save() \r\n  // 可以保存画布的变形如 translate、rotate、scale（）\r\n  // 因此我们可以通过旋转画布模拟指针的旋转\r\n  // 再通过 ctx.restore() 恢复画布的状态\r\n  // ctx.restore() 不会改变在 ctx.save() 后画的图像\r\n  clockCtx.save()\r\n  clockCtx.beginPath()\r\n  const rad = 2 * Math.PI / 12 * hour\r\n  const mrad = 2 * Math.PI / 12 / 60 * minute\r\n  // 画布旋转多少度，下文中画出的时针就会旋转多少度\r\n  clockCtx.rotate(rad + mrad)\r\n  clockCtx.lineWidth = 6 * clockRem\r\n  clockCtx.lineCap = 'round'\r\n  // 向右👉🏻向下👇🏻为正数\r\n  // 向下突出一点\r\n  clockCtx.moveTo(0, 10)\r\n  // 可以理解为默认指向钟表上 12 点方向\r\n  clockCtx.lineTo(0, -clockRadius / 2)\r\n  clockCtx.stroke()\r\n  // 恢复画布的旋转角度，但是画出的时针不会改变位置\r\n  clockCtx.restore()\r\n}\r\n\r\nfunction drawMinute(minute,second){\r\n  clockCtx.save()\r\n  clockCtx.beginPath()\r\n  const rad = 2 * Math.PI / 60 * minute\r\n  const srad = 2 * Math.PI / 60 / 60 * second\r\n  clockCtx.rotate(rad + srad)\r\n  clockCtx.lineWidth = 3 *clockRem\r\n  clockCtx.lineCap = 'round'\r\n  clockCtx.moveTo(0,10)\r\n  clockCtx.lineTo(0,-clockRadius + 30*clockRem )\r\n  clockCtx.stroke()\r\n  clockCtx.restore()\r\n}\r\nfunction drawSecond(second){\r\n  clockCtx.save()\r\n  clockCtx.beginPath()\r\n  clockCtx.fillStyle = '#c14543'\r\n  const rad = 2 * Math.PI / 60 * second\r\n  clockCtx.rotate(rad)\r\n  clockCtx.moveTo(-2,20)\r\n  clockCtx.lineTo(2,20)\r\n  clockCtx.lineTo(1,-clockRadius+18*clockRem )\r\n  clockCtx.lineTo(-1,-clockRadius+18*clockRem )\r\n  clockCtx.fill()\r\n  clockCtx.restore()\r\n}\r\nfunction drawDot(){\r\n  clockCtx.beginPath()\r\n  clockCtx.fillStyle = '#fff'\r\n  clockCtx.arc(0,0,3,0,2*Math.PI,false)\r\n  clockCtx.fill()\r\n}\r\n\r\nfunction draw() {\r\n  clockCtx.clearRect(0, 0, clockWidth, clockHeight);\r\n  const now = new Date();\r\n  const hour = now.getHours();\r\n  const minute = now.getMinutes();\r\n  const second = now.getSeconds();\r\n  drawBackground();\r\n  drawHour(hour,minute)\r\n  drawMinute(minute,second)\r\n  drawSecond(second)\r\n  drawDot()\r\n  clockCtx.restore();\r\n}\r\nsetInterval(draw, 0);\r\n"],"names":["$48ede4e188430a2e$var$clockCtx","document","getElementById","getContext","$48ede4e188430a2e$var$clockWidth","canvas","width","$48ede4e188430a2e$var$clockHeight","height","$48ede4e188430a2e$var$clockRadius","$48ede4e188430a2e$var$clockRem","setInterval","clearRect","now","Date","hour","getHours","minute","getMinutes","second","getSeconds","save","translate","beginPath","lineWidth","arc","Math","PI","stroke","font","textAlign","textBaseline","forEach","number","index","rad","x","cos","y","sin","fillText","String","i","fillStyle","fill","$48ede4e188430a2e$var$drawBackground","mrad","rotate","lineCap","moveTo","lineTo","restore","$48ede4e188430a2e$var$drawHour","srad","$48ede4e188430a2e$var$drawMinute","$48ede4e188430a2e$var$drawSecond"],"version":3,"file":"index.7e0c00f1.js.map"}